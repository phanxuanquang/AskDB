<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="AskDB.App.GeminiConnection"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:AskDB.App"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    mc:Ignorable="d"
    NavigationCacheMode="Required">

    <Grid >
        <InfoBar x:Name="ErrorInfoBar" IsOpen="False" HorizontalAlignment="Right" VerticalAlignment="Top" IsClosable="False" Severity="Error" MaxWidth="500"/>
        <local:LoadingControl x:Name="LoadingOverlay" HorizontalAlignment="Center" VerticalAlignment="Center"/>
        <StackPanel 
            x:Name="MainPanel" 
            Spacing="16" 
            Padding="40" 
            MaxWidth="1000"
            VerticalAlignment="Center" 
            Background="{ThemeResource SolidBackgroundFillColorQuarternaryBrush}" 
            CornerRadius="{StaticResource OverlayCornerRadius}">
            <TextBlock Text="Connect to Gemini" Style="{StaticResource TitleTextBlockStyle}"  FontWeight="Bold"/>
            <RichTextBlock LineHeight="{StaticResource SubtitleTextBlockFontSize}" >
                <Paragraph>AskDB ultilizes Gemini as the AI engine for natural language processing. 
                    Please choose one of the following methods to connect to Gemini, and make sure that you have read and understood
                    <Hyperlink FontWeight="Medium" NavigateUri="https://github.com/phanxuanquang/AskDB/blob/master/Policy/Privacy%20Policy.md">AskDB's privacy policy</Hyperlink> before proceeding.
                </Paragraph>
            </RichTextBlock>
            <StackPanel Spacing="4">
                <Grid ColumnSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Button Grid.Column="0" HorizontalAlignment="Stretch" Click="LoginWithGoogleButton_Click">
                        <StackPanel Padding="16" Spacing="12">
                            <FontIcon Glyph="&#xE8FA;" FontSize="{StaticResource TitleTextBlockFontSize}"/>
                            <TextBlock Style="{StaticResource BodyStrongTextBlockStyle}" FontWeight="SemiBold" Text="Login with your Google account"/>
                        </StackPanel>
                    </Button>
                    <Button Grid.Column="1" HorizontalAlignment="Stretch" Click="AuthenWithApiKeyButton_Click">
                        <StackPanel Padding="16" Spacing="12">
                            <FontIcon Glyph="&#xE8D7;" FontSize="{StaticResource TitleTextBlockFontSize}"/>
                            <TextBlock Style="{StaticResource BodyStrongTextBlockStyle}" FontWeight="SemiBold" Text="Use your Gemini API Key"/>
                        </StackPanel>
                    </Button>
                </Grid>
            </StackPanel>
        </StackPanel>
    </Grid>
</Page>
